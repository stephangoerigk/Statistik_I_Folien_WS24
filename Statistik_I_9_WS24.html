<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Einheit 9</title>
    <meta charset="utf-8" />
    <meta name="author" content="Prof. Dr. Stephan Goerigk" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/hygge.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <script src="libs/fabric/fabric.min.js"></script>
    <link href="libs/xaringanExtra-scribble/scribble.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-scribble/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#EE0071"],"pen_size":4,"eraser_size":40,"palette":[]}) })</script>
    <script src="libs/kePrint/kePrint.js"></script>
    <link href="libs/lightable/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




name: Title slide
class: middle, left
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
# Statistik I
***
### Einheit 9: Korrelation
#####  09.01.2024 | Prof. Dr. Stephan Goerigk

---
class: top, left
### Korrelation

#### Der Begriff des (bivariaten) Zusammenhangs

Was bedeutet es, wenn zwei Variablen miteinander zusammenhängen?

* Die Ausprägung, die eine Person auf der einen Variable aufweist, gibt zu gewissen Teilen auch Auskunft darüber, welche Ausprägung diese Person auf der anderen Variable erreicht.

* Beide Variablen variieren dann systematisch miteinander.

**Beispiel: Müdigkeit und Konzentrationsfähigkeit**

* Müdigkeit und Konzentrationsfähigkeit stehen in Beziehung zueinander

* Überdurchschnittlich müde Menschen weisen in der Regel eine niedrigere Konzentrationsfähigkeit auf als weniger müde Menschen

Mit anderen Worten: Je höher die Müdigkeit, umso niedriger die Konzentrationsfähigkeit

`\(\rightarrow\)` Aussagen wie diese postulieren einen Zusammenhang

---
class: top, left
### Korrelation

#### Der Begriff des (bivariaten) Zusammenhangs

##### Stärke des Zusammenhangs

.pull-left[

* Die Stärke des Zusammenhangs ist davon abhängig, wie zwingend von der einen Variable auf die andere geschlossen werden kann.

**Beispiel: Müdigkeit und Konzentrationsfähigkeit**

* wenn alle überdurchschnittlich müden Personen eine niedrige Konzentrationsfähigkeit aufweisen `\(\rightarrow\)` starker Zusammenhang

* wenn es unter den überdurchschnittlich müden Personen auch welche mit hoher Konzentrationsfähigkeit gibt `\(\rightarrow\)` weniger starker Zusammenhang
]

.pull-right[
.center[
&lt;img src="bilder/tiredness.jpg" width="350px" /&gt;
]
]

---
class: top, left
### Korrelation

#### Der Begriff des (bivariaten) Zusammenhangs

##### Richtung des Zusammenhangs

* Zusammenhänge können in zwei "Richtungen" vorliegen: positiv oder negativ.

**Positiver Zusammenhang:**

* Hohe Werte auf der einen Variable entsprechen hohen Werten auf der anderen Variable

**Negativer Zusammenhang:**

* Hohe Werte auf der einen Variable entsprechen niedrigen Werten auf der anderen Variable

**Kein Zusammenhang:**

* Werte auf der einen Variable gehen mal mit hohen und mal mit niedrigen Werten auf der anderen Variable einher

* Beide Merkmale sind stochastisch unabhängig voneinander

---
class: top, left
### Korrelation
.pull-left[
#### Der Begriff des Zusammenhangs

##### Richtung des Zusammenhangs




**Stärke des Zusammenhangs**

* Je enger die elliptische Form eines Punkteschwarms ist, umso stärker ist der Zusammenhang

* Ist die Punktewolke kreisförmig, besteht kein Zusammenhang

* Grafische Interpretation erlaubt grobe Orientierung über den Grad des Zusammenhangs. Diesen zu quantifizieren ist Aufgabe der Kovarianz und Korrelation.

]
.pull-right[
.center[
&lt;img src="bilder/ellipse.png" width="300px" /&gt;


]
]
---
class: top, left
### Korrelation

#### Kovarianz `\((cov_{(x,y)})\)`

`$$cov_{x,y}=\frac{\displaystyle \sum_{i=1}^{n}(x_{i}-\bar{x})\cdot(y_{i}-\bar{y})}{n-1}$$`

* Unstandardisiertes Maß, dass den Zusammenhang zweier Variablen erfasst (bivariat)

* Ist in ihrer Berechnung der Varianz nicht unähnlich

* Varianz: Erfasst die Abweichungen einer Variable um ihren Mittelwert
  * Liefert aufgrund der Quadrierung nur positive Ergebnisse

* Kovarianz: Gleichgerichtete Abweichungen zweier Variablen von deren Mittelwerten
  * Kann auch negative Werte annehmen

---
class: top, left
### Korrelation

#### Kovarianz `\((cov_{(x,y)})\)`

##### Wertespektrum:

* Betrag der Kovarianz zwischen 2 Variablen kann beliebige Werte zwischen 0 und einer maximalen Kovarianz `\(|cov_{max}|\)` annehmen.

* `\(|cov_{max}|\)` ist für positiver und negative Zusammenhänge identisch

Definition von `\(|cov_{max}|\)`:

* Definiert als das Produkt der beiden Merkmalsstreuungen:

`$$|cov_{max}|=\hat{\sigma}_x \cdot \hat{\sigma}_y$$`

---
class: top, left
### Korrelation

#### Kovarianz `\((cov_{(x,y)})\)`

##### Wertespektrum:

`\((cov_{(x,y)}) &gt; 0\)`:

* Kovarianz ist positiv, wenn positive Abweichungen vom Mittelwert in `\(X\)` mit positiven in `\(Y\)` und negativen Abweichungen in `\(X\)` mit negativen in `\(Y\)` einhergehen.

`\((cov_{(x,y)}) &lt; 0\)`:

* Kovarianz ist negativ, wenn positive Abweichungen vom Mittelwert in `\(X\)` mit negativen in `\(Y\)` einhergehen und umgekehrt.

`\((cov_{(x,y)}) = 0\)`:

* Kovarianz von 0 besagt, dass beide Variablen in keinem Zusammenhang zueinander stehen.

---
class: top, left
### Korrelation

#### Kovarianz `\((cov_{(x,y)})\)`

##### Wertespektrum:

* Abweichungen, die in Formel zur Berechnung der Kovarianz eingehen, sind abhängig von der Skalierung (Maßstab) der Merkmale.

**Beispiel:**

Für dieselbe Länge ergibt sich eine höhere Kovarianz, wenn in cm anstatt in m gemessen wird

`\(\rightarrow\)` Höhe der Kovarianz ist ein unstandardisiertes Maß für den Zusammenhang

* Es lässt sich nur Richtung erkennen

* Höhen unterschiedlicher Zusammenhänge lassen sich nicht vergleichen (hierfür nutzen wir Korrelation)

---
class: top, left
### Korrelation

#### Kovarianz `\((cov_{(x,y)})\)` - Beispiel

Ein Psychologe misst die Schlafdauer (X) von `\((N=16)\)` Proband:innen in Stunden (h). Nach dem Aufstehen müssen Sie einen Konzentrationstest (Y) durchführen (0-15 Punkte). Hohe Punktzahl entspricht guter Konzentrationsleistung.

&lt;table class="table" style="font-size: 18px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; ID &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 14 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 16 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Schlaf (X) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Konzentration (Y) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

Die Kovarianz von Schlaf und Konzentration in dieser Stichprobe berechnet sich wie folgt `\((\bar{x}=8.62, \bar{y}=5.56)\)`:

`$$cov_{x,y}=\frac{(6-8.62)\cdot(2-5.56)+(7-8.62)\cdot(2-5.56)+...}{15}=7.16$$`
* Der Zusammenhang zwischen Schlaf und Konzentrationsfähigkeit ist also positiv.

* Über die relative Höhe des Zusammenhangs sagt dieser Wert nichts aus. Dafür brauchen wir ein standardisiertes Maß.

---
class: top, left
### Korrelation

#### Produkt-Moment-Korrelation `\((r)\)`

* Standardisiertes Maß für den Zusammenhang zweier intervallskalierter Variablen

* Gebräuchlichstes Maß für die Stärke des Zusammenhangs

* Stärke des Zusammenhangs wird mit dem Korrelationskoeffizient `\(r\)` angegeben.

* Anderer Name für die Korrelation: Pearson-Korrelation

---
class: top, left
### Korrelation

#### Produkt-Moment-Korrelation `\((r)\)`

##### Berechnung

* Standardisierung der im vorherigen Abschnitt besprochenen Kovarianz

* Die berechnete Kovarianz wird anhand der maximalen Kovarianz `\((|cov_{max}|)\)` relativiert

`$$r_{xy}=\frac{cov_{emp}}{cov_{max}}=\frac{cov_{x,y}}{\hat{\sigma}_x \cdot \hat{\sigma}_y}=\frac{\displaystyle \sum_{i=1}^{n}(x_{i}-\bar{x})\cdot(y_{i}-\bar{y})}{(n-1) \cdot \hat{\sigma}_x \cdot \hat{\sigma}_y}$$`

* Dadurch wird die Kovarianz von der Streuung der Merkmale bereinigt.

* Das resultierende `\(r\)` (Korrelationskoeffizient) ist somit maßstabsunabhängig (kann direkt interpretiert werden)

---
class: top, left
### Korrelation

#### Produkt-Moment-Korrelation `\((r)\)`

##### Wertespektrum:

Der Korrelationskoeffizient kann nur Werte zwischen -1 und +1 annehmen:

* `\(r=1\)` perfekter positiver Zusammenhang 

* `\(r=-1\)` perfekter negativer Zusammenhang 

* `\(r=0\)`  kein Zusammenhang (Nullkorrelation)

* `\(r&gt;0\)`  positiver Zusammenhang 

* `\(r&lt;0\)`  negativer Zusammenhang

---
class: top, left
### Korrelation

#### Produkt-Moment-Korrelation `\((r)\)` - Beispiel

&lt;table class="table" style="font-size: 18px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
   &lt;th style="text-align:left;"&gt;  &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; ID &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 14 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 16 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Schlaf (X) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Konzentration (Y) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 12 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

Um den Korrelationskoeffizienten `\((r)\)` für unser Beispiel zu bestimmen, müssen wir zunächst die Standardabweichungen von X und Y als Schätzer der Merkmalsstreuung berechnen:

* `\(\hat{\sigma}_x = 2.8\)`
* `\(\hat{\sigma}_y = 3.37\)`

`$$cov_{x,y}=\frac{(6-8.62)\cdot(2-5.56)+(7-8.62)\cdot(2-5.56)+...}{15}=7.16$$`

`$$r_{xy}=\frac{cov_{x,y}}{\hat{\sigma}_x \cdot \hat{\sigma}_y}=\frac{7.16}{2.8 \cdot 3.37}= 0.76$$`

---
class: top, left
### Korrelation

####  Produkt-Moment-Korrelation `\((r)\)`

##### Interpretation

* Ab welcher Höhe eine Korrelation zwischen 2 Variablen als inhaltlich bedeutsam angesehen werden kann, hängt stark vom Forschungsgegenstand ab.

Beispiel: Labor- vs. Feld

* Labor: Aufgrund der Kontrollierbarkeit von Störeinflüssen werden höhere Zusammenhänge erwartet.
* Feld: Anspruch an die Höhe der Korrelation ist in der Regel niedriger.
* Unterschied des berechneten `\(r\)` vs. 0 muss mittels Signifikanztest geprüft werden.

Einteilung der Größe des Effekts (Cohen, 1992):

&lt;table class="table" style="font-size: 18px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; r &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Interpretation &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &amp;gt;0.1 oder &amp;lt; -0.1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; kleiner Effekt &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &amp;gt;0.3 oder &amp;lt; -0.3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; mittlerer Effekt &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; &amp;gt;0.5 oder &amp;lt; -0.5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; großer Effekt &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---
class: top, left
### Korrelation

####  Produkt-Moment-Korrelation `\((r)\)`

##### Skalierung des Korrelationskoeffizienten

* Der Korrelationskoeffizient ist nicht intervallskaliert.

* Er kann demnach nicht als Prozentmaß des Zusammenhangs interpretiert werden.

* z.B. 0.4 ist nicht doppelt so hoch wie 0.8 (Äquidistanz ist nicht gegeben)

* Relationen ist kein perfektes Maß, wenn Zusammenhänge aus mehreren Studien miteinander verglichen und zusammen gefasst werden sollen (ein `\(r\)` vs. ein zweites `\(r)\)`

* Um direkte Vergleiche zwischen Korrelationskoeffizienten zu ermöglichen, benötigt man einen Zwischenschritt (Fishers Z-Transformation)

---
class: top, left
### Korrelation

####  Produkt-Moment-Korrelation `\((r)\)`

##### Pearson-Korrelation als Signifikanztest

&lt;small&gt;

* Die Korrelation kann als Signifikanztest genutzt werden
* Signifikanztest der Korrelation verläuft analog zum t-Test
* Einziger Unterschied: Interessierender Wert ist eine Korrelation anstelle einer Mittelwertdifferenz
* Schreibweise:
  * Empirisch ermittelte Korrelation: `\(r\)`
  * Zusammenhang in der Population (Grundgesamtheit): `\(\rho\)` (Rho)

**Ungerichtete Hypothese: (*"Es besteht ein Zusammenhang zwischen X und Y."*)**
* `\(H_0\)`: `\(\rho = 0\)`
* `\(H_1\)`: `\(\rho \neq 0\)`

**Gerichtete Hypothese: (*"Es besteht ein positiver/negativer Zusammenhang zwischen X und Y."*)**
* `\(H_0\)`: `\(\rho \leq 0\)`, bzw. `\(\rho \geq 0\)`
* `\(H_1\)`: `\(\rho &gt; 0\)`, bzw. `\(\rho &lt; 0\)`

&lt;/small&gt;

---
class: top, left
### Korrelation

####  Produkt-Moment-Korrelation `\((r)\)`

##### Pearson-Korrelation als Signifikanztest

* Die zugehörige Prüfstatistik (t-Verteilung) ist uns bereits bekannt

* Der empirische t-Wert `\((t_{emp})\)` berechnet sich aus der empirisch ermittelte Korrelation `\((r)\)` und dem Stichprobenumfang `\((N)\)`

`$$t=\frac{r \cdot \sqrt{N-2}}{\sqrt{1-r^2}}; df=N-2$$`

Vorgehen:

* Empirischer t-Wert `\((t_{emp})\)` wird gegen kritischen t-Wert `\((t_{krit})\)` getestet (aus t-Tabelle ablesen)

* Zweiseitige `\(H_{0}\)` wird verworfen, wenn `\(|t_{emp}| &gt; t(df; 1−α/2)\)` (kritischer t-Wert) 

* Einseitige `\(H_{0}\)` wird verworfen, wenn Abweichung in die erwartete Richtung und `\(|t_{emp}| &gt; t(df; 1−α)\)` (kritischer t-Wert) 

---
class: top, left
### Korrelation

####  Produkt-Moment-Korrelation `\((r)\)`

##### Pearson-Korrelation als Signifikanztest - Beispiel

Der Psychologe aus unserem Beispiel möchte wissen, ob ein signifikanter positiver Zusammenhang zwischen Schlaf und Aufmerksamkeitsleistung besteht.

Hypothesen:

* `\(H_0\)`: `\(\rho \leq 0\)`
* `\(H_1\)`: `\(\rho &gt; 0\)`

---
class: top, left
### Korrelation

####  Produkt-Moment-Korrelation `\((r)\)`

##### Pearson-Korrelation als Signifikanztest - Beispiel

Der Psychologe aus unserem Beispiel möchte wissen, ob ein positiver Zusammenhang zwischen Schlaf und Aufmerksamkeitsleistung besteht.

* `\(r_{xy}= 0.76\)`
* `\(N=16\)`

`$$t=\frac{0.76 \cdot \sqrt{16-2}}{\sqrt{1-0.76^2}}; df=16-2$$`

`$$t=\frac{2.84}{0.65}=4.37; df=14$$`
Bestimmung von `\((t_{krit})\)` aus Tabelle (s.h. nächste Folie):

---
class: top, left
### Korrelation

&lt;small&gt;

####  Produkt-Moment-Korrelation `\((r)\)`

##### Pearson-Korrelation als Signifikanztest - Beispiel

Kritischen t-Wert `\((t_{krit})\)` für `\(a=.05\)` nachschlagen:

.center[
&lt;img src="bilder/ttab4.png" width="700px" /&gt;
]
&lt;/small&gt;

---
class: top, left
### Korrelation

####  Produkt-Moment-Korrelation `\((r)\)`

##### Pearson-Korrelation als Signifikanztest - Beispiel

&lt;small&gt;

Der Psychologe aus unserem Beispiel möchte wissen, ob ein positiver Zusammenhang zwischen Schlaf und Aufmerksamkeitsleistung besteht.

* `\(r_{xy}= 0.76\)`
* `\(N=16\)`

`$$t=\frac{0.76 \cdot \sqrt{16-2}}{\sqrt{1-0.76^2}}; df=16-2$$`

`$$t=\frac{2.84}{0.65}=4.37; df=14$$`

* `\(t_{krit(df=14)}=1.761\)` `\(\rightarrow\)` Spalte für 0.95 in der t-Tabelle, da gerichtete Hypothese
* Der empirische t-Wert ist größer als der kritische t-Wert, der Korrelationskoeffizient ist signifikant größer als  0 (positiver Zusammenhang).
* Die `\(H_{0}\)` kann verworfen werden. Es besteht ein positiver Zusammenhang zwischen Schlaf und Aufmerksamkeitsleistung.

&lt;/small&gt;

---
class: top, left
### Korrelation

#### Rangkorrelation `\((r_s)\)`

* Standardisiertes Maß für den Zusammenhang zweier ordinalskalierter Variablen

* Stellt eine Analogie zur Produkt-Momentkorrelation dar.

* Unterschied: Anstelle intervallskalierter Messwerte werden Rangplätze von ordinalskalierten Rangreihen verwendet.

* Erfasst, inwieweit zwei Rangreihen systematisch miteinander variieren.

* Stärke des Zusammenhangs wird mit dem Korrelationskoeffizient `\(r_s\)` angegeben.

* Anderer Name für dieselbe Korrelation: Spearman-Korrelation

---
class: top, left
### Korrelation

#### Rangkorrelation `\((r_s)\)` - Beispiel

.pull-left[

* Eine Gruppe aus Frauen und Männern sollen `\(N=10\)` Filme danach bewerten, wie lustig sie sind. 

* Dafür sollen die Filme in eine Rangreihe (Platz 1-10) gebracht werden.

* Es sollt untersucht werden, ob ein Zusammenhang zwischen der Rangliste der Frauen und der Rangliste der Männer besteht.
]

.pull-right[
&lt;table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Film &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Rangplatz Frauen &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Rangplatz Männer &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
class: top, left
### Korrelation

#### Rangkorrelation `\((r_s)\)` - Beispiel

.pull-left[

* Eine Gruppe aus Frauen und Männern sollen `\(N=10\)` Filmedanach bewerten, wie lustig sie sind. 

* Dafür sollen die Filme in eine Rangreihe (Platz 1-10) gebracht werden.

* Es sollt untersucht werden, ob ein Zusammenhang zwischen der Rangliste der Frauen und der Rangliste der Männer besteht.

`$$r_s={}1-\frac{6 \cdot \displaystyle \sum_{i=1}^{n}d^2_i}{N \cdot (N^2 - 1)}$$`
]

.pull-right[
&lt;table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Film &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Rangplatz Frauen (X) &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Rangplatz Männer (Y) &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Differenz (d) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
class: top, left
### Korrelation

#### Rangkorrelation `\((r_s)\)` - Beispiel

* `\(d_i\)` ist die Differenz der Ranglistenplätze einer Untersuchungseinheit i bezüglich der Variablen X und Y.

`$$r_s={}1-\frac{6 \cdot \displaystyle \sum_{i=1}^{n}d^2_i}{N \cdot (N^2 - 1)}$$`

`$$r_s={}1-\frac{6 \cdot [2^2 + 0 + 2^2 +... + (-1)^2]}{10 \cdot (10^2 - 1)}=1-\frac{6 \cdot 204}{990}= 0.79$$`

* Die Ranglisten der Frauen und Männer korrelieren also relativ stark miteinander.

* Frage: Ist dieser Zusammenhang auch statistisch signifikant?

---
class: top, left
### Korrelation

#### Rangkorrelation `\((r_s)\)` - Signifikanztest

Für `\(n \geq 30\)` kann der Korrelationskoeffizient der Rangkorrelation mit dem t-verteilten Test näherungsweise auf Signifikanz geprüft werden `\((r_{s}= 0.79; N=10)\)`.

Hypothesen:

* `\(H_0\)`: `\(\rho = 0\)`
* `\(H_1\)`: `\(\rho \neq 0\)`

`$$t=\frac{r \cdot \sqrt{N-2}}{\sqrt{1-r^2}}; df=N-2$$`

`$$t=\frac{0.79 \cdot \sqrt{10-2}}{\sqrt{1-0.79^2}}=\frac{2.23}{0.61}=3.66$$`
Bestimmung von `\((t_{krit})\)` aus Tabelle (s.h. nächste Folie):

---
class: top, left
### Korrelation

&lt;small&gt;

#### Rangkorrelation `\((r_s)\)` - Signifikanztest

Kritischen t-Wert `\((t_{krit})\)` für `\(a=.05\)` nachschlagen (ungerichtete Hypothese):

.center[
&lt;img src="bilder/ttab6.png" width="700px" /&gt;
]
&lt;/small&gt;

---
class: top, left
### Korrelation

&lt;small&gt;

#### Rangkorrelation `\((r_s)\)` - Signifikanztest

Für `\(n \geq 30\)` kann der Korrelationskoeffizient der Rangkorrelation mit dem t-verteilten Test näherungsweise auf Signifikanz geprüft werden `\((r_{s}= 0.79; N=10)\)`.

Hypothesen:

* `\(H_0\)`: `\(\rho = 0\)`
* `\(H_1\)`: `\(\rho \neq 0\)`

`$$t=\frac{r \cdot \sqrt{N-2}}{\sqrt{1-r^2}}; df=N-2$$`

`$$t=\frac{0.79 \cdot \sqrt{10-2}}{\sqrt{1-0.79^2}}=\frac{2.23}{0.61}=3.66$$`


* `\(t_{krit(df=8)}=2.306\)` `\(\rightarrow\)` Spalte für 0.975 in der t-Tabelle, da ungerichtete Hypothese
* Der empirische t-Wert ist größer als der kritische t-Wert, der Korrelationskoeffizient ist signifikant größer als 0 (positiver Zusammenhang).
* Die `\(H_{0}\)` kann verworfen werden. Es besteht ein positiver Zusammenhang zwischen den Ratings der Männer und Frauen.

&lt;/small&gt;

---
class: top, left
### Korrelation

#### Rangkorrelation `\((r_s)\)` - Weitere Verwendung

**Ausreißer:**

* Die Rangkorrelation wird der Produkt-Moment-Korrelation auch vorgezogen, wenn Ausreißer in den Daten sind.

* Grund: Formel der Produkt-Moment-Korrelation nutzt Standardabweichungen (stark von Außreißern beeinflusst).

**Korrelation einer intervallskalierten Variable mit einer ordinalen Variable:**

* Es wird ebenfalls die Rangkorrelation verwendet.

* Hierfür wird die intervallskalierte variable auf Rangskalenniveau transformiert (z.B. kleinster Wert erhält niedrigsten Rang)

* Die Variable erfährt also eine Herabstufung des Skalenniveaus

---
class: top, left
### Korrelation

#### Exkurs: Korrelation und Kausalität

* Korrelation darf nicht vorschnell als Beweis für Kausalitätsbeziehungen betrachtet werden

* Ursache-Wirkungs-Beziehungen sind durch das ledigliche gemeinsame Auftreten zweier Variablen nicht bewiesen

**Kausalmöglichkeiten:**

* X verursacht Y
* Y verursacht X
* Gemeinsames Auftreten durch drittes Merkmal bedingt (Scheinkorrelation)

**Beispiel Scheinkorrelation:**

Nach dem 1. Weltkrieg nahmen in Deutschland die Anzahl der Störche und die Geburtenrate gleichermaßen ab.

`\(\rightarrow\)` Der Storch bringt die Kinder.

---
class: top, left
### Take-aways

.full-width[.content-box-gray[
* Ein (bivariater) Zusammenhang zeigt sich darin, dass zwei Variablen **systematisch miteinander variieren**.

* Die **Kovarianz**, ein unstandardisiertes Zusammenhangsmaß, kann uns die Richtung des Zusammenhangs anzeigen, aber nicht direkt hinsichtlich seiner Stärke interpretiert werden.

* Der **Korrelationskoeffizient** `\((r)\)` ist ein standardisiertes Maß für den Zusammenhang zweier Variablen und kann Werte im Bereich von -1 bis +1 annehmen.

* Zusammenhänge zwischen zwei intervallskalierten Variablen werden mit der **Produkt-Moment-Korrelation** (Pearson), ordinalskalierte mit der **Rangkorrelation** (Spearman) berechnet.

* Die **Einteilung nach Cohen** erlaubt für `\(|r\geq.1|\)`, `\(|r\geq.3|\)`, `\(|r\geq.5|\)` eine Unterteilung in kleine, mittlere und starke/große Zusammenhänge.

* Ein bestehender Zusammenhang gibt **keine Auskunft über Kausalbeziehungen** zwischen den untersuchten Variablen
]
]


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
